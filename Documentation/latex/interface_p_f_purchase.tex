\hypertarget{interface_p_f_purchase}{}\section{P\+F\+Purchase Class Reference}
\label{interface_p_f_purchase}\index{P\+F\+Purchase@{P\+F\+Purchase}}


{\ttfamily \#import $<$P\+F\+Purchase.\+h$>$}

Inheritance diagram for P\+F\+Purchase\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{interface_p_f_purchase}
\end{center}
\end{figure}
\subsection*{Class Methods}
\begin{DoxyCompactItemize}
\item 
(void) + \hyperlink{interface_p_f_purchase_ab8a7fb2066eed2a9106792e9c9d24bdb}{add\+Observer\+For\+Product\+:block\+:}
\item 
(void) + \hyperlink{interface_p_f_purchase_a9aeae4dd74f85e843d4af15339d9a152}{buy\+Product\+:block\+:}
\item 
(void) + \hyperlink{interface_p_f_purchase_a289a556a6058a9fce4d9111025625bd6}{download\+Asset\+For\+Transaction\+:completion\+:}
\item 
(void) + \hyperlink{interface_p_f_purchase_a215951fb7ac348425b413d13bd3ebdc5}{download\+Asset\+For\+Transaction\+:completion\+:progress\+:}
\item 
(void) + \hyperlink{interface_p_f_purchase_a0fed56fd4a6d42ef9dd0e922a2c8a64f}{restore}
\item 
(N\+S\+String $\ast$) + \hyperlink{interface_p_f_purchase_a69a4e5540f439f6d60db9281433ef7be}{asset\+Content\+Path\+For\+Product\+:}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
{\ttfamily \hyperlink{interface_p_f_purchase}{P\+F\+Purchase}} provides a set of A\+P\+Is for working with in-\/app purchases.

This class is currently for i\+O\+S only. 

Definition at line 19 of file P\+F\+Purchase.\+h.



\subsection{Method Documentation}
\hypertarget{interface_p_f_purchase_ab8a7fb2066eed2a9106792e9c9d24bdb}{}\index{P\+F\+Purchase@{P\+F\+Purchase}!add\+Observer\+For\+Product\+:block\+:@{add\+Observer\+For\+Product\+:block\+:}}
\index{add\+Observer\+For\+Product\+:block\+:@{add\+Observer\+For\+Product\+:block\+:}!P\+F\+Purchase@{P\+F\+Purchase}}
\subsubsection[{add\+Observer\+For\+Product\+:block\+:}]{\setlength{\rightskip}{0pt plus 5cm}+ (void) add\+Observer\+For\+Product\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{product\+Identifier}
\item[{block:(void($^\wedge$)(S\+K\+Payment\+Transaction $\ast$transaction))}]{block}
\end{DoxyParamCaption}
}\label{interface_p_f_purchase_ab8a7fb2066eed2a9106792e9c9d24bdb}
Add application logic block which is run when buying a product.

This method should be called once for each product, and should be called before calling $<$buy\+Product\+:block\+:$>$. All invocations to $<$add\+Observer\+For\+Product\+:block\+:$>$ should happen within the same method, and on the main thread. It is recommended to place all invocations of this method in {\ttfamily application\+:did\+Finish\+Launching\+With\+Options\+:}.


\begin{DoxyParams}{Parameters}
{\em product\+Identifier} & the product identifier \\
\hline
{\em block} & The block to be run when buying a product. \\
\hline
\end{DoxyParams}
\hypertarget{interface_p_f_purchase_a69a4e5540f439f6d60db9281433ef7be}{}\index{P\+F\+Purchase@{P\+F\+Purchase}!asset\+Content\+Path\+For\+Product\+:@{asset\+Content\+Path\+For\+Product\+:}}
\index{asset\+Content\+Path\+For\+Product\+:@{asset\+Content\+Path\+For\+Product\+:}!P\+F\+Purchase@{P\+F\+Purchase}}
\subsubsection[{asset\+Content\+Path\+For\+Product\+:}]{\setlength{\rightskip}{0pt plus 5cm}+ (N\+S\+String $\ast$) asset\+Content\+Path\+For\+Product\+: 
\begin{DoxyParamCaption}
\item[{({\bf P\+F\+Product} $\ast$)}]{product}
\end{DoxyParamCaption}
}\label{interface_p_f_purchase_a69a4e5540f439f6d60db9281433ef7be}
\hypertarget{interface_p_f_purchase_a9aeae4dd74f85e843d4af15339d9a152}{}\index{P\+F\+Purchase@{P\+F\+Purchase}!buy\+Product\+:block\+:@{buy\+Product\+:block\+:}}
\index{buy\+Product\+:block\+:@{buy\+Product\+:block\+:}!P\+F\+Purchase@{P\+F\+Purchase}}
\subsubsection[{buy\+Product\+:block\+:}]{\setlength{\rightskip}{0pt plus 5cm}+ (void) buy\+Product\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{product\+Identifier}
\item[{block:(void($^\wedge$)(N\+S\+Error $\ast$error))}]{block}
\end{DoxyParamCaption}
}\label{interface_p_f_purchase_a9aeae4dd74f85e843d4af15339d9a152}
{\itshape Asynchronously} initiates the purchase for the product.


\begin{DoxyParams}{Parameters}
{\em product\+Identifier} & the product identifier \\
\hline
{\em block} & the completion block. \\
\hline
\end{DoxyParams}
\hypertarget{interface_p_f_purchase_a289a556a6058a9fce4d9111025625bd6}{}\index{P\+F\+Purchase@{P\+F\+Purchase}!download\+Asset\+For\+Transaction\+:completion\+:@{download\+Asset\+For\+Transaction\+:completion\+:}}
\index{download\+Asset\+For\+Transaction\+:completion\+:@{download\+Asset\+For\+Transaction\+:completion\+:}!P\+F\+Purchase@{P\+F\+Purchase}}
\subsubsection[{download\+Asset\+For\+Transaction\+:completion\+:}]{\setlength{\rightskip}{0pt plus 5cm}+ (void) download\+Asset\+For\+Transaction\+: 
\begin{DoxyParamCaption}
\item[{(S\+K\+Payment\+Transaction $\ast$)}]{transaction}
\item[{completion:(void($^\wedge$)(N\+S\+String $\ast$file\+Path, N\+S\+Error $\ast$error))}]{completion}
\end{DoxyParamCaption}
}\label{interface_p_f_purchase_a289a556a6058a9fce4d9111025625bd6}
{\itshape Asynchronously} download the purchased asset, which is stored on \hyperlink{interface_parse}{Parse}\textquotesingle{}s server.

\hyperlink{interface_parse}{Parse} verifies the receipt with Apple and delivers the content only if the receipt is valid.


\begin{DoxyParams}{Parameters}
{\em transaction} & the transaction, which contains the receipt. \\
\hline
{\em completion} & the completion block. \\
\hline
\end{DoxyParams}
\hypertarget{interface_p_f_purchase_a215951fb7ac348425b413d13bd3ebdc5}{}\index{P\+F\+Purchase@{P\+F\+Purchase}!download\+Asset\+For\+Transaction\+:completion\+:progress\+:@{download\+Asset\+For\+Transaction\+:completion\+:progress\+:}}
\index{download\+Asset\+For\+Transaction\+:completion\+:progress\+:@{download\+Asset\+For\+Transaction\+:completion\+:progress\+:}!P\+F\+Purchase@{P\+F\+Purchase}}
\subsubsection[{download\+Asset\+For\+Transaction\+:completion\+:progress\+:}]{\setlength{\rightskip}{0pt plus 5cm}+ (void) download\+Asset\+For\+Transaction\+: 
\begin{DoxyParamCaption}
\item[{(S\+K\+Payment\+Transaction $\ast$)}]{transaction}
\item[{completion:(void($^\wedge$)(N\+S\+String $\ast$file\+Path, N\+S\+Error $\ast$error))}]{completion}
\item[{progress:({\bf P\+F\+Progress\+Block})}]{progress}
\end{DoxyParamCaption}
}\label{interface_p_f_purchase_a215951fb7ac348425b413d13bd3ebdc5}
{\itshape Asynchronously} download the purchased asset, which is stored on \hyperlink{interface_parse}{Parse}\textquotesingle{}s server.

\hyperlink{interface_parse}{Parse} verifies the receipt with Apple and delivers the content only if the receipt is valid.


\begin{DoxyParams}{Parameters}
{\em transaction} & the transaction, which contains the receipt. \\
\hline
{\em completion} & the completion block. \\
\hline
{\em progress} & the progress block, which is called multiple times to reveal progress of the download. \\
\hline
\end{DoxyParams}
\hypertarget{interface_p_f_purchase_a0fed56fd4a6d42ef9dd0e922a2c8a64f}{}\index{P\+F\+Purchase@{P\+F\+Purchase}!restore@{restore}}
\index{restore@{restore}!P\+F\+Purchase@{P\+F\+Purchase}}
\subsubsection[{restore}]{\setlength{\rightskip}{0pt plus 5cm}+ (void) restore 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
}\label{interface_p_f_purchase_a0fed56fd4a6d42ef9dd0e922a2c8a64f}
{\itshape Asynchronously} restore completed transactions for the current user.

Only nonconsumable purchases are restored. If observers for the products have been added before calling this method, invoking the method reruns the application logic associated with the purchase.

\begin{DoxyWarning}{Warning}
This method is only important to developers who want to preserve purchase states across different installations of the same app. 
\end{DoxyWarning}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/jscottrichards/\+Documents/\+Git\+Hub/\+Bound\+Breaker/\+Project/\+Bound Breaker/\+Parse.\+framework/\+Headers/\hyperlink{_p_f_purchase_8h}{P\+F\+Purchase.\+h}\end{DoxyCompactItemize}
